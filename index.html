<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>זכויות עובדים | אבחון מהיר</title>
  <style>
    :root {
      --primary: #0f172a;
      --accent: #2563eb;
      --bg: #ffffff;
      --text: #1e293b;
      --muted: #64748b;
      --faded: #f8fafc;
    }

    * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

    body {
      margin: 0;
      font-family: -apple-system, system-ui, sans-serif;
      background-color: var(--faded);
      color: var(--text);
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .wrapper {
      width: 100%;
      max-width: 460px;
      padding: 60px 24px;
      display: flex;
      flex-direction: column;
    }

    .main-card {
      background: var(--bg);
      padding: 45px 35px;
      border-radius: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.04);
      border: 1px solid rgba(0,0,0,0.02);
      text-align: center;
    }

    h1 {
      font-size: 34px;
      font-weight: 800;
      line-height: 1.1;
      margin: 0 0 15px;
      letter-spacing: -1.2px;
      color: var(--primary);
    }

    .description {
      font-size: 17px;
      line-height: 1.5;
      color: var(--muted);
      margin-bottom: 40px;
    }

    .option {
      background: var(--faded);
      padding: 20px;
      border-radius: 18px;
      margin-bottom: 10px;
      cursor: pointer;
      font-weight: 700;
      font-size: 17px;
      border: 2px solid transparent;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      justify-content: center;
    }

    .option:hover { background: #fff; border-color: #e2e8f0; transform: translateY(-2px); }
    .option.active { background: #fff; border-color: var(--primary); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }

    .btn-main {
      background: var(--primary);
      color: white;
      border: none;
      padding: 22px;
      width: 100%;
      border-radius: 18px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 25px;
      transition: opacity 0.2s;
    }

    .btn-main:active { transform: scale(0.98); }

    .dots-nav {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .dot { width: 8px; height: 8px; background: #e2e8f0; border-radius: 50%; }
    .dot.active { background: var(--primary); width: 20px; border-radius: 10px; }

    input, select {
      width: 100%;
      padding: 20px;
      border-radius: 18px;
      border: 1.5px solid #f1f5f9;
      margin-bottom: 12px;
      font-size: 16px;
      background: var(--faded);
      font-family: inherit;
    }

    .hidden { display: none; }
    .animate { animation: slideIn 0.5s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>

<div class="wrapper">
  <div class="main-card">
    
    <div id="landing" class="animate">
      <div style="font-size: 12px; font-weight: 900; color: var(--accent); margin-bottom: 15px; letter-spacing: 1px;">אבחון זכויות 2026</div>
      <h1>נפגעת בעבודה? <br>מגיע לך לדעת.</h1>
      <p class="description">בדיקה קצרה שתעזור לך להבין אם יש היתכנות לפיצוי כספי מהמדינה. דקה אחת ונדע איפה התיק שלך עומד.</p>
      <button class="btn-main" onclick="start()">בואו נתחיל</button>
    </div>

    <div id="quiz" class="hidden animate">
      <div class="dots-nav" id="dots"></div>
      <h2 id="qTitle" style="font-size: 24px; font-weight: 800; margin-bottom: 30px; line-height: 1.2;"></h2>
      <div id="qForm"></div>
      <button class="btn-main" id="nextBtn" onclick="next()">המשך</button>
      <button onclick="back()" style="background:none; border:none; color:var(--muted); font-weight:700; margin-top:20px; cursor:pointer;">חזור</button>
    </div>

    <div id="done" class="hidden animate">
      <h1>הבנו את התמונה.</h1>
      <p class="description">כדי שנוכל לתת לך תשובה סופית ומקצועית לגבי גובה הפיצוי, נשמח לדעת איך לחזור אליך.</p>
      <input type="text" id="fullName" placeholder="שם מלא" />
      <input type="tel" id="phone" placeholder="מספר טלפון לשיחה" />
      <select id="prefTime">
        <option value="">זמן נוח לשיחה</option>
        <option>בוקר</option>
        <option>צהריים</option>
        <option>ערב</option>
      </select>
      <button class="btn-main" onclick="submit()">שלחו לי את סיכום הזכויות</button>
    </div>
  </div>
</div>

<script>
  const WEBHOOK_URL = "PASTE_YOUR_WEBHOOK_URL_HERE";
  const state = { step: 0, answers: {} };
  
  const steps = [
    { key: "q1", title: "זה קרה בזמן העבודה, בדרך אליה או בחזרה?", options: ["כן", "לא", "אני לא בטוח/ה"] },
    { key: "q2", title: "מתי בערך קרתה הפגיעה?", options: ["ממש עכשיו", "בחודשים האחרונים", "לפני שנה או יותר"] },
    { key: "q3", title: "איך הפציעה משפיעה עליך?", options: ["ניתוח / אשפוז", "טיפול במיון / בדיקות", "ימי מחלה בלבד", "פגיעה קלה"] }
  ];

  function start() {
    document.getElementById("landing").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");
    render();
  }

  function render() {
    const s = steps[state.step];
    document.getElementById("qTitle").innerText = s.title;
    const form = document.getElementById("qForm");
    form.innerHTML = "";
    document.getElementById("dots").innerHTML = steps.map((_, i) => `<div class="dot ${i <= state.step ? 'active' : ''}"></div>`).join('');

    s.options.forEach(opt => {
      const div = document.createElement("div");
      div.className = "option" + (state.answers[s.key] === opt ? " active" : "");
      div.innerText = opt;
      div.onclick = () => {
        state.answers[s.key] = opt;
        render();
        setTimeout(next, 350); 
      };
      form.appendChild(div);
    });
  }

  function next() {
    if (!state.answers[steps[state.step].key]) return;
    if (state.step < steps.length - 1) {
      state.step++;
      render();
    } else {
      document.getElementById("quiz").classList.add("hidden");
      document.getElementById("done").classList.remove("hidden");
    }
  }

  function back() { if (state.step > 0) { state.step--; render(); } }

  async function submit() {
    const name = document.getElementById("fullName").value;
    const phone = document.getElementById("phone").value;
