<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>×–×›×•×ª-×‘×¨×•×¨ | ×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</title>
  <meta name="description" content="×‘×“×™×§×” ×§×¦×¨×” ×•×œ× ××—×™×™×‘×ª ×©××¡×“×¨×ª ××ª ×”×ª××•× ×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”. ×“×™×¡×§×¨×˜×™ ×•×× ×•×©×™. ×‘×¢×¨×š 2 ×“×§×•×ª." />

  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#070b16;
      --bg1:#0b1220;
      --paper:#f6f8ff;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:rgba(148,163,184,.35);
      --primary:#2563eb;
      --primary2:#0ea5e9;
      --ok:#16a34a;
      --warn:#f59e0b;
      --bad:#dc2626;
      --r1:18px;
      --r2:24px;
      --shadow: 0 18px 55px rgba(2,6,23,.22);
      --shadow2: 0 12px 30px rgba(2,6,23,.12);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:'Assistant', system-ui, -apple-system, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 650px at 80% -10%, rgba(14,165,233,.28), transparent 55%),
        radial-gradient(900px 620px at 10% 0%, rgba(34,197,94,.15), transparent 55%),
        radial-gradient(900px 620px at 50% 115%, rgba(249,115,22,.12), transparent 55%),
        linear-gradient(180deg, var(--bg1) 0%, var(--bg1) 34%, var(--paper) 34%, var(--paper) 100%);
      line-height:1.65;
    }

    a{ color:inherit; }
    .wrap{ max-width:1100px; margin:0 auto; padding:20px 16px 90px; }
    .topbar{
      color:#fff; display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
      margin-bottom:14px;
    }

    .brand{ display:flex; align-items:center; gap:10px; }
    .mark{
      width:42px; height:42px; border-radius:16px;
      background: linear-gradient(135deg, rgba(255,255,255,.95), rgba(255,255,255,.65));
      display:grid; place-items:center; color:#0b1220; font-weight:900;
      box-shadow: 0 20px 40px rgba(0,0,0,.18);
    }
    .brandTitle{ font-weight:900; letter-spacing:-.2px; }
    .chips{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      color:rgba(255,255,255,.92);
      font-size:12.5px; font-weight:800;
      backdrop-filter: blur(10px);
    }
    .dot{ width:8px; height:8px; border-radius:99px; background:#86efac; }

    .shell{
      margin-top:8px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.55);
      border-radius: 28px;
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .grid{ display:grid; grid-template-columns: 1.25fr .75fr; gap:14px; }
    @media (max-width: 980px){ .grid{ grid-template-columns:1fr; } }

    .card{
      background:var(--card);
      border:1px solid rgba(148,163,184,.28);
      border-radius: var(--r2);
      padding: 22px;
      box-shadow: var(--shadow2);
    }

    .hero{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      align-items:center;
    }
    @media (max-width: 980px){ .hero{ grid-template-columns:1fr; } }

    h1{
      margin:0 0 10px;
      font-size: 38px;
      line-height:1.1;
      letter-spacing:-.6px;
      font-weight:900;
    }
    .lead{
      margin:0 0 16px;
      color:var(--muted);
      font-size: 17px;
      max-width: 62ch;
    }

    .ctaRow{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top: 8px; }
    .btn{
      border:0; cursor:pointer;
      border-radius: 18px;
      padding: 14px 18px;
      font-weight:900;
      font-size: 16.5px;
      color:#fff;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      box-shadow: 0 18px 30px rgba(37,99,235,.22);
      transition: transform .15s ease, filter .15s ease;
      font-family: inherit;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; }

    .btnGhost{
      background:#fff;
      color:var(--text);
      border:1px solid rgba(148,163,184,.35);
      box-shadow:none;
    }

    .miniNote{
      color:var(--muted);
      font-size: 13.5px;
      margin-top:10px;
      display:flex;
      gap:8px;
      align-items:flex-start;
    }
    .miniNote b{ color:var(--text); }

    .features{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 18px;
    }
    @media (max-width: 980px){ .features{ grid-template-columns:1fr; } }

    .feat{
      border-radius: 18px;
      padding: 14px;
      border:1px solid rgba(148,163,184,.25);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      display:flex; gap:12px; align-items:flex-start;
    }
    .ico{
      width:38px; height:38px; border-radius: 14px;
      background: rgba(37,99,235,.08);
      display:grid; place-items:center;
      color:#1d4ed8; font-weight:900;
      flex: 0 0 auto;
    }
    .feat b{ display:block; margin-bottom: 2px; font-weight:900; }
    .feat span{ color:var(--muted); font-size: 13.5px; }

    .steps{
      display:grid; gap:10px;
    }
    .step{
      border-radius: 18px;
      padding: 14px;
      border:1px solid rgba(148,163,184,.25);
      background:#fff;
      display:flex; gap:12px;
    }
    .num{
      width:30px; height:30px; border-radius: 12px;
      display:grid; place-items:center;
      background: rgba(14,165,233,.10);
      color:#0369a1;
      font-weight:900;
      flex:0 0 auto;
    }
    .step p{ margin:0; color:var(--muted); }
    .step b{ display:block; margin-bottom:2px; color:var(--text); font-weight:900; }

    details{
      border:1px solid rgba(148,163,184,.28);
      border-radius: 18px;
      background:#fff;
      padding: 12px 14px;
      margin: 10px 0;
    }
    summary{
      cursor:pointer;
      font-weight:900;
      list-style:none;
    }
    details p{ color:var(--muted); margin:10px 0 0; }

    .hidden{ display:none !important; }

    /* Quiz */
    .quizHead{ display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap; }
    .progressText{ font-size: 13px; color:var(--muted); font-weight:800; }
    .bar{ height: 10px; background: rgba(148,163,184,.25); border-radius: 999px; overflow:hidden; margin: 10px 0 16px; }
    .fill{ height:100%; width:0%; background: linear-gradient(90deg, var(--primary), var(--primary2), #22c55e); transition: width .25s ease; }
    .qTitle{ margin: 0 0 8px; font-size: 21px; font-weight: 900; letter-spacing:-.2px; }
    .qHint{ margin: 0 0 10px; color: var(--muted); font-size: 14px; }

    .option{
      display:flex; gap:12px; align-items:flex-start;
      padding: 14px;
      margin: 10px 0;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.28);
      background: #fff;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .option:hover{ transform: translateY(-1px); border-color: rgba(37,99,235,.35); background: #f8fbff; }
    .option.active{ border-color: rgba(37,99,235,.9); background: rgba(37,99,235,.06); }
    .bullet{
      width: 22px; height: 22px;
      border-radius: 10px;
      border: 2px solid rgba(148,163,184,.5);
      margin-top: 2px;
      flex: 0 0 auto;
      position: relative;
    }
    .option.active .bullet{
      border-color: rgba(37,99,235,.9);
      background: rgba(37,99,235,.12);
    }
    .option.active .bullet:after{
      content:"";
      position:absolute; inset:5px;
      border-radius: 6px;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
    }

    .navRow{ display:flex; gap:10px; margin-top:16px; }
    .navRow .btn{ flex: 2; width: auto; }
    .navRow .btnGhost{ flex: 1; width: auto; }

    input[type="text"], input[type="tel"]{
      width:100%;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.35);
      background:#fff;
      font-size: 16px;
      outline:none;
      font-family: inherit;
    }
    .formGrid{ display:grid; gap:10px; margin-top: 12px; }

    .summary{
      border-radius: 18px;
      padding: 14px;
      border:1px solid rgba(148,163,184,.25);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      color: var(--muted);
      font-size: 14px;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(148,163,184,.25);
      background:#fff;
      margin: 6px 6px 0 0;
      color: var(--text);
      font-weight:800;
      font-size: 12.5px;
    }

    footer{
      margin-top: 16px;
      color: rgba(255,255,255,.78);
      font-size: 12.5px;
    }
    .legal{
      margin-top: 14px;
      color: rgba(15,23,42,.65);
      font-size: 12.5px;
      line-height:1.6;
    }

    /* Hero illustration */
    .illus{
      background: radial-gradient(420px 260px at 30% 30%, rgba(14,165,233,.18), transparent 65%),
                  radial-gradient(420px 260px at 70% 70%, rgba(34,197,94,.14), transparent 65%),
                  #ffffff;
      border:1px solid rgba(148,163,184,.25);
      border-radius: 22px;
      padding: 14px;
      box-shadow: 0 18px 30px rgba(2,6,23,.08);
      overflow:hidden;
    }
    .illus svg{ width:100%; height:auto; display:block; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="mark">âœ“</div>
        <div>
          <div class="brandTitle">×–×›×•×ª-×‘×¨×•×¨</div>
          <div style="font-size:12.5px; color:rgba(255,255,255,.78); font-weight:700">×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</div>
        </div>
      </div>
      <div class="chips">
        <span class="chip"><span class="dot"></span> ×œ×œ× ×”×ª×—×™×™×‘×•×ª</span>
        <span class="chip">ğŸ”’ ×“×™×¡×§×¨×˜×™</span>
        <span class="chip">â± ×‘×¢×¨×š 2 ×“×§×•×ª</span>
      </div>
    </div>

    <div class="shell">
      <!-- LANDING -->
      <div id="landing" class="grid">
        <div class="card">
          <div class="hero">
            <div>
              <h1>× ×¤×’×¢×ª ×‘×¢×‘×•×“×”? ×‘×•××™ × ×¢×©×” ×¡×“×¨ ×¨×’×¢.</h1>
              <p class="lead">
                ×–×” ×œ× ×˜×•×¤×¡ ××¤×—×™×“ ×•×œ× â€œ××©×¤×˜×™â€.
                ×¨×§ ×›××” ×©××œ×•×ª ×§×¦×¨×•×ª ×©××¡×“×¨×•×ª ××ª ×”×ª××•× ×”, ×›×“×™ ×œ×”×‘×™×Ÿ ×× ×™×© ×”×™×ª×›× ×•×ª ×œ×¤×™×¦×•×™ ×•××” × ×›×•×Ÿ ×œ×¢×©×•×ª ×¢×›×©×™×•.
              </p>

              <div class="ctaRow">
                <button class="btn" id="startBtn" type="button">××ª×—×™×œ×™× ×‘×“×™×§×”</button>
                <button class="btn btnGhost" id="scrollFaqBtn" type="button">×©××œ×•×ª × ×¤×•×¦×•×ª</button>
              </div>

              <div class="miniNote">
                <span>â„¹ï¸</span>
                <div>
                  <b>×—×©×•×‘:</b> ×›×›×œ ×©×¤×•×¢×œ×™× ××•×§×“× ×™×•×ª×¨, ×§×œ ×™×•×ª×¨ ×œ×ª×¢×“ ××ª ×”××§×¨×” ×•×œ×”×™×× ×¢ ××¤×¡×¤×•×¡ ×–×›×•×™×•×ª.
                  <span style="display:block; margin-top:4px;">×”×‘×“×™×§×” ×›××Ÿ ×”×™× ××™×“×¢ ×¨××©×•× ×™ ×•×œ× ×ª×—×œ×™×£ ×œ×™×™×¢×•×¥ ××©×¤×˜×™.</span>
                </div>
              </div>

              <div class="features">
                <div class="feat"><div class="ico">ğŸ§ </div><div><b>×‘×¨×•×¨ ×•×¤×©×•×˜</b><span>×‘×œ×™ ××™×œ×™× ××¡×•×‘×›×•×ª â€” ×¨×§ ××” ×©×¦×¨×™×š.</span></div></div>
                <div class="feat"><div class="ico">ğŸ‘‚</div><div><b>××•×–×Ÿ ×§×©×‘×ª</b><span>××¡×‘×™×¨×™× ×œ×š ××ª ×”×ª××•× ×” ×‘×©×¤×” ×× ×•×©×™×ª.</span></div></div>
                <div class="feat"><div class="ico">ğŸ›¡ï¸</div><div><b>×“×™×¡×§×¨×˜×™</b><span>××ª ×‘×•×—×¨×ª ×× ×œ×”×©××™×¨ ×¤×¨×˜×™× ×‘×¡×•×£.</span></div></div>
              </div>
            </div>

            <div class="illus" aria-hidden="true">
              <!-- Inline SVG illustration -->
              <svg viewBox="0 0 640 420" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0" stop-color="#2563eb" stop-opacity="0.9"/>
                    <stop offset="1" stop-color="#0ea5e9" stop-opacity="0.9"/>
                  </linearGradient>
                </defs>
                <rect x="0" y="0" width="640" height="420" rx="24" fill="#ffffff"/>
                <circle cx="120" cy="110" r="78" fill="#2563eb" fill-opacity="0.08"/>
                <circle cx="520" cy="300" r="110" fill="#22c55e" fill-opacity="0.08"/>
                <rect x="70" y="80" width="500" height="260" rx="22" fill="#0f172a" fill-opacity="0.04"/>
                <rect x="95" y="110" width="300" height="26" rx="13" fill="#0f172a" fill-opacity="0.10"/>
                <rect x="95" y="150" width="420" height="16" rx="8" fill="#0f172a" fill-opacity="0.08"/>
                <rect x="95" y="178" width="380" height="16" rx="8" fill="#0f172a" fill-opacity="0.08"/>
                <rect x="95" y="220" width="180" height="42" rx="16" fill="url(#g1)"/>
                <rect x="95" y="280" width="440" height="14" rx="7" fill="#0f172a" fill-opacity="0.07"/>
                <rect x="95" y="306" width="360" height="14" rx="7" fill="#0f172a" fill-opacity="0.07"/>
                <circle cx="420" cy="241" r="22" fill="#22c55e" fill-opacity="0.18"/>
                <path d="M410 241l7 7 14-16" stroke="#16a34a" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>

          <div style="margin-top:16px;">
            <div style="font-weight:900; margin-bottom:8px;">××™×š ×–×” ×¢×•×‘×“ ×‘×¤×•×¢×œ?</div>
            <div class="steps">
              <div class="step"><div class="num">1</div><div><b>×¢×•× ×™× ×¢×œ 5 ×©××œ×•×ª</b><p>××ª×™ ×§×¨×”, ×—×•××¨×”, ×ª×™×¢×•×“ â€” ×›×“×™ ×œ×”×‘×™×Ÿ ×× ×™×© ×‘×¡×™×¡.</p></div></div>
              <div class="step"><div class="num">2</div><div><b>××§×‘×œ×™× ×¡×™×›×•× ×§×¦×¨</b><p>×”×¡×‘×¨ ××” ×”××©××¢×•×ª ×©×œ ×”×ª×©×•×‘×•×ª ×•××” ×›×“××™ ×œ×¢×©×•×ª ×¢×›×©×™×•.</p></div></div>
              <div class="step"><div class="num">3</div><div><b>×¨×§ ×× ×ª×¨×¦×™ â€” ××©××™×¨×™× ×¤×¨×˜×™×</b><p>×—×•×–×¨×™× ××œ×™×™×š ×œ×©×™×—×” ×§×¦×¨×” ×©××¡×“×¨×ª ××ª ×”×¦×¢×“×™× ×”×‘××™×.</p></div></div>
            </div>
          </div>

          <div id="faq" style="margin-top:18px;">
            <div style="font-weight:900; margin-bottom:8px;">×©××œ×•×ª × ×¤×•×¦×•×ª</div>
            <details>
              <summary>×–×” ××—×™×™×‘ ××•×ª×™ ×œ×¤× ×•×ª ×œ×¢×•×´×“?</summary>
              <p>×œ×. ×–×• ×‘×“×™×§×” ×¨××©×•× ×™×ª ×‘×œ×‘×“. ×‘×¡×•×£ ××ª ×‘×•×—×¨×ª ×× ×œ×”×©××™×¨ ×¤×¨×˜×™×.</p>
            </details>
            <details>
              <summary>×œ××” ××ª× ×©×•××œ×™× ×¢×œ ×ª×™×¢×•×“ ×¨×¤×•××™/×“×™×•×•×—?</summary>
              <p>×›×™ ×ª×™×¢×•×“ ××•×§×“× ×¢×•×–×¨ ×œ×”×‘×™×Ÿ ××”×¨ ×× ×™×© ×‘×¡×™×¡ ×œ×ª×‘×™×¢×” ×•××” ×”××¡×œ×•×œ ×”× ×›×•×Ÿ.</p>
            </details>
            <details>
              <summary>×”×× ×–×” ×‘×ª×©×œ×•×?</summary>
              <p>×”×‘×“×™×§×” ×•×”×©×™×—×” ×”×¨××©×•× ×™×ª ×œ×œ× ×¢×œ×•×ª. ××™×Ÿ ×”×ª×—×™×™×‘×•×ª.</p>
            </details>
          </div>

          <div class="legal">
            *×”××ª×¨ ××™× ×• ××ª×¨ ×¨×©××™ ×©×œ ×”×‘×™×˜×•×— ×”×œ××•××™ ×•××™× ×• ××¡×¤×§ ×™×™×¢×•×¥ ××©×¤×˜×™. ××˜×¨×ª×• ××™×“×¢ ×¨××©×•× ×™ ×•×¡×™×“×•×¨ ×”×ª××•× ×” ×‘×œ×‘×“.
          </div>
        </div>

        <div class="card">
          <div style="font-weight:900; font-size:18px; margin-bottom:10px;">××” ×× ×©×™× ××¨×’×™×©×™× ××—×¨×™ ×¤×’×™×¢×”?</div>
          <div class="summary">
            ×‘×“×¨×š ×›×œ×œ ×™×© ×©×™×œ×•×‘ ×©×œ ×›××‘ + ×‘×œ×‘×•×œ + ×¤×—×“ â€œ×œ×˜×¢×•×ªâ€.
            ×”××ª×¨ ×”×–×” ×‘× ×•×™ ×›×“×™ ×œ×ª×ª ×œ×š ×ª×—×•×©×” ×©×œ ×™×“ ××›×•×•× ×ª: ×§×¦×¨, ×‘×¨×•×¨, ×‘×œ×™ ×”×¤×—×“×•×ª.
            <div style="margin-top:10px; color:var(--muted); font-weight:800;">×”×‘×“×™×§×” ×œ×•×§×—×ª ×‘×¢×¨×š 2 ×“×§×•×ª.</div>
          </div>

          <div style="margin-top:14px; font-weight:900;">××” ×™×•×¤×™×¢ ×‘×¡×™×›×•×?</div>
          <div>
            <span class="pill">×˜×¨×™×•×ª ×”××§×¨×”</span>
            <span class="pill">×—×•××¨×ª ×”×¤×’×™×¢×”</span>
            <span class="pill">×ª×™×¢×•×“</span>
            <span class="pill">×”×¦×¢×“ ×”×‘×</span>
          </div>

          <div style="margin-top:14px;">
            <button class="btn" type="button" id="startBtn2" style="width:100%;">×›×Ÿ, ×× ×™ ×¨×•×¦×” ×œ×”×ª×—×™×œ</button>
          </div>
        </div>
      </div>

      <!-- QUIZ -->
      <div id="quiz" class="card hidden">
        <div class="quizHead">
          <div class="progressText" id="progressTxt">×©××œ×” 1 ××ª×•×š 5</div>
          <div class="progressText" id="timeTxt">â± ×‘×¢×¨×š ×“×§×”</div>
        </div>
        <div class="bar"><div id="progressFill" class="fill"></div></div>

        <h2 id="qTitle" class="qTitle"></h2>
        <p id="qHint" class="qHint"></p>
        <div id="qForm"></div>

        <div class="navRow">
          <button class="btn btnGhost" id="backBtn" type="button">××—×•×¨×”</button>
          <button class="btn" id="nextBtn" type="button">×”××©×š</button>
        </div>
      </div>

      <!-- DONE -->
      <div id="done" class="card hidden">
        <h2 style="margin:0 0 8px; font-weight:900; letter-spacing:-.2px;">×¡×™×›×•× ×§×¦×¨ âœ…</h2>
        <div id="summaryBox" class="summary"></div>

        <div class="formGrid">
          <input type="text" id="fullName" placeholder="×©× ××œ×" autocomplete="name" />
          <input type="tel" id="phone" placeholder="××¡×¤×¨ ×˜×œ×¤×•×Ÿ" autocomplete="tel" inputmode="tel" />
          <button class="btn" id="submitBtn" type="button">×¨×•×¦×” ×©×™×—×–×¨×• ××œ×™×™</button>
          <div class="legal">×‘×œ×—×™×¦×” ××ª ×××©×¨×ª ×™×¦×™×¨×ª ×§×©×¨ ×œ×’×‘×™ ×”×‘×“×™×§×” ×©×‘×™×¦×¢×ª.</div>
        </div>
      </div>
    </div>

    <footer>
      ×–×›×•×ª-×‘×¨×•×¨ Â· ×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”
    </footer>
  </div>

<script>
  // âœ… Make webhook
  const WEBHOOK_URL = "https://hook.eu1.make.com/zodd6hyaiagfivgofyy1h6jjamyymm23";

  document.addEventListener("DOMContentLoaded", () => {
    const els = {
      landing: document.getElementById("landing"),
      quiz: document.getElementById("quiz"),
      done: document.getElementById("done"),
      startBtn: document.getElementById("startBtn"),
      startBtn2: document.getElementById("startBtn2"),
      scrollFaqBtn: document.getElementById("scrollFaqBtn"),
      progressFill: document.getElementById("progressFill"),
      progressTxt: document.getElementById("progressTxt"),
      qTitle: document.getElementById("qTitle"),
      qHint: document.getElementById("qHint"),
      qForm: document.getElementById("qForm"),
      backBtn: document.getElementById("backBtn"),
      nextBtn: document.getElementById("nextBtn"),
      summaryBox: document.getElementById("summaryBox"),
      fullName: document.getElementById("fullName"),
      phone: document.getElementById("phone"),
      submitBtn: document.getElementById("submitBtn"),
    };

    const state = {
      step: 0,
      answers: { q1:null, q2:null, q3:null, q4:null, q5:null },
    };

    // ×©××œ×•×Ÿ ×œ×¤×™ ×”"××•×—": ×˜×¨×™×•×ª â†’ ×”×ª×××” ×œ×ª××•× ×ª ×¢×‘×•×“×” â†’ ×—×•××¨×” â†’ ×ª×™×¢×•×“ â†’ ×¡×˜×˜×•×¡ ×‘"×œ
    const steps = [
      {
        key: "q1",
        title: "×”×× ×–×” ×§×¨×” ×‘×–××Ÿ ×”×¢×‘×•×“×”, ×‘×“×¨×š ××œ×™×” ××• ×‘×—×–×¨×” ××× ×”?",
        hint: "×× ××ª ×œ× ×‘×˜×•×—×” â€” ×–×” ×‘×¡×“×¨, ×”×¨×‘×” ×× ×©×™× ××ª×‘×œ×‘×œ×™× ×¤×”.",
        options: [
          { l: "×›×Ÿ", v: "yes" },
          { l: "×œ×", v: "no" },
          { l: "×× ×™ ×œ× ×‘×˜×•×—×”", v: "maybe" },
        ]
      },
      {
        key: "q2",
        title: "××ª×™ ×‘×¢×¨×š ×§×¨×ª×” ×”×¤×’×™×¢×”?",
        hint: "×›×›×œ ×©×–×” ×˜×¨×™ ×™×•×ª×¨ â€” ×§×œ ×™×•×ª×¨ ×œ×ª×¢×“.",
        options: [
          { l: "×‘Ö¾7 ×”×™××™× ×”××—×¨×•× ×™×", v: "7d" },
          { l: "×‘×—×•×“×©×™× ×”××—×¨×•× ×™×", v: "months" },
          { l: "×œ×¤× ×™ ×©× ×” ××• ×™×•×ª×¨", v: "1y" },
          { l: "×œ×¤× ×™ ×™×•×ª×¨ ×Ö¾3 ×©× ×™×", v: "3y" },
        ]
      },
      {
        key: "q3",
        title: "××™×š ×”×™×™×ª ××ª××¨×ª ××ª ×—×•××¨×ª ×”×¤×’×™×¢×”?",
        hint: "××œ ×ª×“××’×™ â€” ×–×• ×¨×§ ××™× ×“×™×§×¦×™×” ×¨××©×•× ×™×ª.",
        options: [
          { l: "× ×™×ª×•×— / ××©×¤×•×– / ×©×™×§×•× ××¨×•×š", v: "severe" },
          { l: "××™×•×Ÿ / ×‘×“×™×§×•×ª ×¨×¤×•××™×•×ª", v: "er" },
          { l: "×™××™ ××—×œ×” ×‘×œ×‘×“", v: "sick" },
          { l: "×¤×’×™×¢×” ×§×œ×” ×•×—×–×¨×ª×™ ××”×¨ ×œ×©×’×¨×”", v: "minor" },
        ]
      },
      {
        key: "q4",
        title: "×™×© ×œ×š ×ª×™×¢×•×“ ×›×œ×©×”×• ××”×™××™× ×”×¨××©×•× ×™×?",
        hint: "×ª×™×¢×•×“ ××§×œ ×œ×”×‘×™×Ÿ ×× ×™×© ×‘×¡×™×¡ (××¤×©×¨ ×’× ×—×œ×§×™).",
        options: [
          { l: "×›×Ÿ, ×™×© ×ª×™×¢×•×“ ×¨×¤×•××™", v: "med_yes" },
          { l: "×“×™×•×•×—×ª×™ ×œ××¢×¡×™×§", v: "emp_yes" },
          { l: "×™×© ×œ×™ ××©×”×• ×—×œ×§×™", v: "partial" },
          { l: "××™×Ÿ ×œ×™ ×¢×“×™×™×Ÿ", v: "none" },
        ]
      },
      {
        key: "q5",
        title: "×”×× ×›×‘×¨ ×¤× ×™×ª ×œ×‘×™×˜×•×— ×œ××•××™ ×œ×’×‘×™ ×”×¤×’×™×¢×”?",
        hint: "×’× ×× ×”×ª×—×œ×ª ×ª×”×œ×™×š â€” ××¤×©×¨ ×¢×“×™×™×Ÿ ×œ×¢×©×•×ª ×¡×“×¨.",
        options: [
          { l: "×¢×“×™×™×Ÿ ×œ×", v: "no" },
          { l: "×›×Ÿ, ××‘×œ ×× ×™ ×œ× ×‘×˜×•×—×” ×©×¢×©×™×ª×™ × ×›×•×Ÿ", v: "unsure" },
          { l: "×›×Ÿ, ×”×ª×—×œ×ª×™ ×ª×”×œ×™×š", v: "started" },
        ]
      },
    ];

    function goQuiz() {
      els.landing.classList.add("hidden");
      els.quiz.classList.remove("hidden");
      els.done.classList.add("hidden");
      render();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function render() {
      const s = steps[state.step];
      els.qTitle.textContent = s.title;
      els.qHint.textContent = s.hint || "";
      els.progressTxt.textContent = `×©××œ×” ${state.step + 1} ××ª×•×š ${steps.length}`;
      els.progressFill.style.width = ((state.step + 1) / steps.length) * 100 + "%";

      els.qForm.innerHTML = "";
      s.options.forEach(opt => {
        const div = document.createElement("div");
        const isActive = state.answers[s.key] === opt.v;
        div.className = "option" + (isActive ? " active" : "");
        div.innerHTML = `
          <div class="bullet" aria-hidden="true"></div>
          <div style="font-weight:900">${opt.l}</div>
        `;
        div.addEventListener("click", () => {
          state.answers[s.key] = opt.v;
          render();
        });
        els.qForm.appendChild(div);
      });

      els.nextBtn.disabled = !state.answers[s.key];
      els.backBtn.disabled = state.step === 0;
    }

    function buildSummary(a) {
      // ×¡×™×›×•× â€œ×× ×•×©×™â€ ×§×¦×¨ ×•×œ× ××©×¤×˜×™
      const chips = [];
      if (a.q2 === "7d") chips.push("×”××§×¨×” ×˜×¨×™ ×××•×“");
      if (a.q2 === "months") chips.push("×”××§×¨×” ×™×—×¡×™×ª ×˜×¨×™");
      if (a.q2 === "1y") chips.push("×”××§×¨×” ×œ× ××”×©×‘×•×¢×•×ª ×”××—×¨×•× ×™×");
      if (a.q2 === "3y") chips.push("×”××§×¨×” ×•×ª×™×§ ×™×—×¡×™×ª");

      if (a.q3 === "severe") chips.push("×¤×’×™×¢×” ××©××¢×•×ª×™×ª");
      if (a.q3 === "er") chips.push("×”×™×™×ª×” ×¤× ×™×™×” ×¨×¤×•××™×ª");
      if (a.q3 === "sick") chips.push("×”×™×• ×™××™ ××—×œ×”");
      if (a.q3 === "minor") chips.push("× ×©××¢ ×§×œ ×™×•×ª×¨");

      if (a.q4 === "med_yes") chips.push("×™×© ×ª×™×¢×•×“ ×¨×¤×•××™");
      if (a.q4 === "emp_yes") chips.push("×“×•×•×— ×œ××¢×¡×™×§");
      if (a.q4 === "partial") chips.push("×™×© ×ª×™×¢×•×“ ×—×œ×§×™");
      if (a.q4 === "none") chips.push("××™×Ÿ ×ª×™×¢×•×“ ×¢×“×™×™×Ÿ");

      let next = "×× ×ª×¨×¦×™, × ×—×–×•×¨ ××œ×™×™×š ×œ×©×™×—×” ×§×¦×¨×” ×©××¡×“×¨×ª ××ª ×”×¦×¢×“×™× ×”×‘××™×.";
      if (a.q2 === "7d") next = "×›×“××™ ×œ×¤×¢×•×œ ××”×¨ ×›×“×™ ×œ×©××•×¨ ×ª×™×¢×•×“ ×•×œ×× ×•×¢ ×˜×¢×•×™×•×ª.";
      if (a.q3 === "severe") next = "×‘×¤×’×™×¢×•×ª ××©××¢×•×ª×™×•×ª ×—×©×•×‘ ×œ×”×‘×™×Ÿ ××•×§×“× ××ª ×”××¡×œ×•×œ ×”× ×›×•×Ÿ.";

      const pills = chips.map(t => `<span class="pill">âœ“ ${t}</span>`).join(" ");
      return `
        <div style="font-weight:900; color:var(--text); margin-bottom:6px;">××” ×©×× ×—× ×• ×¨×•××™× ××”×ª×©×•×‘×•×ª ×©×œ×š:</div>
        <div>${pills}</div>
        <div style="margin-top:10px;">${next}</div>
      `;
    }

    async function postLead(payload) {
      // × ×™×¡×™×•×Ÿ 1: JSON ×¨×’×™×œ
      try {
        const res = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        // ×× ××™×Ÿ CORS ×ª×§×™×Ÿ, ×œ×¤×¢××™× res "opaque" ×œ× ×§×•×¨×” ×¤×”. ×× ×× ×—× ×• ×¤×” - × ××©×™×š.
        if (res && res.ok === false) throw new Error("HTTP not ok");
        return true;
      } catch (e) {
        // × ×™×¡×™×•×Ÿ 2: no-cors ×›×“×™ ×œ× ×œ××‘×“ ×œ×™×“×™×
        try {
          await fetch(WEBHOOK_URL, {
            method: "POST",
            mode: "no-cors",
            body: JSON.stringify(payload)
          });
          return true;
        } catch (e2) {
          return false;
        }
      }
    }

    // Events
    els.startBtn.addEventListener("click", goQuiz);
    els.startBtn2.addEventListener("click", goQuiz);

    els.scrollFaqBtn.addEventListener("click", () => {
      const faq = document.getElementById("faq");
      faq.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    els.backBtn.addEventListener("click", () => {
      if (state.step > 0) { state.step--; render(); }
    });

    els.nextBtn.addEventListener("click", () => {
      if (state.step < steps.length - 1) {
        state.step++;
        render();
        window.scrollTo({ top: 0, behavior: "smooth" });
      } else {
        els.quiz.classList.add("hidden");
        els.done.classList.remove("hidden");
        els.summaryBox.innerHTML = buildSummary(state.answers);
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
    });

    els.submitBtn.addEventListener("click", async () => {
      const name = (els.fullName.value || "").trim();
      const phone = (els.phone.value || "").trim();

      if (!name) return alert("×‘×‘×§×©×” ×›×ª×‘×™ ×©× ××œ×");
      if (phone.replace(/\D/g, "").length < 9) return alert("×‘×‘×§×©×” ×›×ª×‘×™ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×ª×§×™×Ÿ");

      els.submitBtn.disabled = true;
      els.submitBtn.textContent = "×©×•×œ×—â€¦";

      const payload = {
        name,
        phone,
        answers: state.answers,
        source: "zchut_barur",
        page: location.href,
        ts: new Date().toISOString()
      };

      const ok = await postLead(payload);

      if (ok) {
        alert("× ×©×œ×— ×‘×”×¦×œ×—×” âœ… × ×—×–×•×¨ ××œ×™×™×š ×‘×”×§×“×.");
        location.reload();
      } else {
        alert("××©×”×• ×œ× ×¢×‘×¨. × ×¡×™ ×©×•×‘ ×‘×¢×•×“ ×“×§×” (××• ×‘×“×§×™ ×—×™×‘×•×¨ ××™× ×˜×¨× ×˜).");
        els.submitBtn.disabled = false;
        els.submitBtn.textContent = "×¨×•×¦×” ×©×™×—×–×¨×• ××œ×™×™";
      }
    });
  });
</script>
</body>
</html>
