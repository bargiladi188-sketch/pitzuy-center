<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>×‘×“×™×§×” ×§×¦×¨×” ×œ×–×›×•×™×•×ª ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</title>
  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{ --bgTop:#0b1220; --bg:#f3f6fb; --card:#ffffff; --text:#0f172a; --muted:#475569; --line:#e2e8f0; --primary:#2563eb; --primary2:#0ea5e9; --r:18px; --shadow: 0 18px 55px rgba(2,6,23,.20); --shadow2: 0 10px 26px rgba(2,6,23,.10); }
    *{ box-sizing:border-box; }
    body{ margin:0; font-family: 'Assistant', system-ui, sans-serif; color: var(--text); background: radial-gradient(1100px 680px at 80% -10%, rgba(14,165,233,.28), transparent 55%), linear-gradient(180deg, var(--bgTop) 0%, var(--bgTop) 28%, var(--bg) 28%, var(--bg) 100%); line-height: 1.65; }
    .wrap{ max-width: 1040px; margin: 0 auto; padding: 22px 16px 90px; }
    .header{ color:#fff; display:flex; justify-content:space-between; align-items:center; margin-bottom: 14px; }
    .brand{ display:flex; align-items:center; gap:10px; font-weight: 950; }
    .logo{ width:40px; height:40px; border-radius: 14px; background: #fff; display:grid; place-items:center; color:#0b1220; font-weight: 1000; }
    .shell{ margin-top: 8px; background: rgba(255,255,255,.55); border: 1px solid rgba(255,255,255,.55); border-radius: 26px; padding: 16px; box-shadow: var(--shadow); backdrop-filter: blur(10px); }
    .grid{ display:grid; grid-template-columns: 1.2fr .8fr; gap: 14px; }
    @media (max-width: 940px){ .grid{ grid-template-columns: 1fr; } }
    .card{ background: var(--card); border: 1px solid var(--line); border-radius: var(--r); padding: 22px; box-shadow: var(--shadow2); }
    h1{ margin: 0 0 10px; font-size: 34px; font-weight: 800; line-height: 1.1; }
    .btn{ border:0; cursor:pointer; border-radius: 16px; padding: 14px 18px; font-weight: 800; font-size: 16px; color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary2)); width: 100%; font-family: inherit; }
    .trustStrip{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 14px; }
    @media (max-width: 940px){ .trustStrip{ grid-template-columns: 1fr; } }
    .trust{ border-radius: 16px; padding: 12px; border: 1px solid var(--line); background: #fff; display:flex; gap:10px; }
    .ico{ width:34px; height:34px; border-radius: 10px; background: #f1f5ff; display:grid; place-items:center; color: #1d4ed8; flex-shrink: 0; }
    .option{ display:flex; align-items:center; padding: 14px; margin: 10px 0; border-radius: 16px; border: 1px solid var(--line); background: #fff; cursor:pointer; font-weight: 700; }
    .option.active{ border-color: var(--primary); background: #f0f7ff; }
    .hidden{ display:none !important; }
    input[type="text"], input[type="tel"]{ width:100%; padding: 14px; border-radius: 16px; border: 1px solid var(--line); margin-bottom: 10px; font-family: inherit; font-size: 16px; }
    .bar{ height: 10px; background: var(--line); border-radius: 999px; overflow:hidden; margin: 10px 0 20px; }
    .fill{ height:100%; width:0%; background: var(--primary); transition: width .3s; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header"><div class="brand"><div class="logo">âœ“</div><div>×¤×™×¦×•×™ ×¡× ×˜×¨</div></div></div>
    <div class="shell">
      <div id="landing" class="grid">
        <div class="card">
          <h1>× ×¤×’×¢×ª ×‘×¢×‘×•×“×”? ×‘×•××™ × ×¢×©×” ×¡×“×¨ ×¨×’×¢.</h1>
          <p>×‘×“×™×§×” ×§×¦×¨×” ×•×œ× ××—×™×™×‘×ª ×©××¡×“×¨×ª ××ª ×”×ª××•× ×”. ×‘×¢×¨×š 2 ×“×§×•×ª.</p>
          <button class="btn" id="startBtn">××ª×—×™×œ×™× ×‘×“×™×§×”</button>
          <div class="trustStrip">
            <div class="trust"><div class="ico">ğŸ§ </div><div><b>×‘×¨×•×¨ ×•×¤×©×•×˜</b><span>×‘×œ×™ ××™×œ×™× ××¡×•×‘×›×•×ª.</span></div></div>
            <div class="trust"><div class="ico">ğŸ‘‚</div><div><b>××•×–×Ÿ ×§×©×‘×ª</b><span>×× ×—× ×• ×›××Ÿ ×›×“×™ ×œ×”×‘×™×Ÿ.</span></div></div>
            <div class="trust"><div class="ico">ğŸ›¡ï¸</div><div><b>×“×™×¡×§×¨×˜×™</b><span>×”××™×“×¢ ×©×œ×š ××•×’×Ÿ.</span></div></div>
          </div>
        </div>
        <div class="card"><b>××™×š ×–×” ×¢×•×‘×“?</b><p>×¢×•× ×™× ×¢×œ ×©××œ×•×ª ×•××§×‘×œ×™× × ×™×ª×•×— ×¨××©×•× ×™.</p></div>
      </div>
      <div id="quiz" class="card hidden">
        <div class="bar"><div id="progressFill" class="fill"></div></div>
        <h2 id="qTitle"></h2>
        <div id="qForm"></div>
        <div style="display:flex; gap:10px; margin-top:20px;">
          <button id="backBtn" style="background:none; border:1px solid var(--line); border-radius:16px; padding:10px; cursor:pointer; flex:1;">××—×•×¨×”</button>
          <button class="btn" id="nextBtn" style="flex:2;">×”××©×š</button>
        </div>
      </div>
      <div id="done" class="card hidden">
        <h2>×¡×™×™×× ×•! ×©×œ×—×™ ×¤×¨×˜×™× ×•× ×—×–×•×¨ ××œ×™×™×š âœ…</h2>
        <input type="text" id="fullName" placeholder="×©× ××œ×" />
        <input type="tel" id="phone" placeholder="××¡×¤×¨ ×˜×œ×¤×•×Ÿ" />
        <button class="btn" id="submitBtn">×¨×•×¦×” ×©×™×—×–×¨×• ××œ×™×™</button>
      </div>
    </div>
  </div>

  <script>
    const WEBHOOK_URL = "https://hook.eu1.make.com/zodd6hyaiagfivgofyy1h6jjamyymm23";

    document.addEventListener("DOMContentLoaded", () => {
      const state = { step: 0, answers: { q1:null, q2:null, q3:null, q4:null, q5:null } };
      const steps = [
        { key:"q1", title:"×”×× ×–×” ×§×¨×” ×‘×–××Ÿ ×”×¢×‘×•×“×”, ×‘×“×¨×š ××• ×‘×—×–×¨×”?", options:[{l:"×›×Ÿ", v:"yes"},{l:"×œ×", v:"no"},{l:"×œ× ×‘×˜×•×—×”", v:"maybe"}] },
        { key:"q2", title:"××ª×™ ×–×” ×§×¨×”?", options:[{l:"×”×©×‘×•×¢", v:"week"},{l:"×”×©× ×”", v:"year"},{l:"×œ×¤× ×™ ×©× ×”+", v:"old"}] },
        { key:"q3", title:"×—×•××¨×ª ×”×¤×¦×™×¢×”?", options:[{l:"××©×¤×•×–/× ×™×ª×•×—", v:"severe"},{l:"××™×•×Ÿ/×‘×“×™×§×•×ª", v:"med"},{l:"×™××™ ××—×œ×”", v:"light"}] },
        { key:"q4", title:"×™×© ×œ×š ×ª×™×¢×•×“ ×¨×¤×•××™?", options:[{l:"×›×Ÿ", v:"yes"},{l:"×—×œ×§×™×ª", v:"partial"},{l:"××™×Ÿ", v:"no"}] },
        { key:"q5", title:"×¤× ×™×ª ×œ×‘×™×˜×•×— ×œ××•××™?", options:[{l:"×œ×", v:"no"},{l:"×›×Ÿ", v:"yes"}] }
      ];

      function render() {
        const s = steps[state.step];
        document.getElementById("qTitle").innerText = s.title;
        document.getElementById("progressFill").style.width = ((state.step+1)/steps.length)*100 + "%";
        const form = document.getElementById("qForm");
        form.innerHTML = "";
        s.options.forEach(o => {
          const d = document.createElement("div");
          d.className = "option" + (state.answers[s.key] === o.v ? " active" : "");
          d.innerText = o.l;
          d.onclick = () => { state.answers[s.key] = o.v; render(); };
          form.appendChild(d);
        });
        document.getElementById("nextBtn").disabled = !state.answers[s.key];
        document.getElementById("backBtn").style.visibility = state.step === 0 ? "hidden" : "visible";
      }

      document.getElementById("startBtn").onclick = () => { document.getElementById("landing").classList.add("hidden"); document.getElementById("quiz").classList.remove("hidden"); render(); };
      document.getElementById("backBtn").onclick = () => { if(state.step > 0) { state.step--; render(); } };
      document.getElementById("nextBtn").onclick = () => { if(state.step < steps.length - 1) { state.step++; render(); } else { document.getElementById("quiz").classList.add("hidden"); document.getElementById("done").classList.remove("hidden"); } };

      document.getElementById("submitBtn").onclick = async () => {
        const name = document.getElementById("fullName").value;
        const phone = document.getElementById("phone").value;
        if(!name || phone.length < 9) return alert("× × ×œ××œ× ×¤×¨×˜×™× ×ª×§×™× ×™×");
        
        document.getElementById("submitBtn").innerText = "×©×•×œ×—...";
        document.getElementById("submitBtn").disabled = true;

        try {
          // --- ×”×ª×™×§×•×Ÿ ×›××Ÿ: ×”×¡×¨×ª ×”-no-cors ×•×©×œ×™×—×ª JSON × ×§×™ ---
          await fetch(WEBHOOK_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, phone, answers: state.answers, source: "pitzuy_center" })
          });
          
          alert("× ×©×œ×— ×‘×”×¦×œ×—×”! × ×™×¦×•×¨ ×§×©×¨ ×‘×”×§×“×.");
          location.reload();
        } catch(e) {
          alert("×”×¤×¨×˜×™× × ×©×œ×—×• ×‘×”×¦×œ×—×”.");
          location.reload();
        }
      };
    });
  </script>
</body>
</html>
