<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>מרכז זכויות ופיצויים - בדיקה רשמית</title>
  <style>
    :root {
      --primary: #0f172a; /* כחול לילית עמוק */
      --accent: #3b82f6; 
      --bg: #ffffff;
      --soft-bg: #f8fafc;
      --text: #1e293b;
      --muted: #64748b;
      --border: #e2e8f0;
      --radius: 12px;
    }
    * { box-sizing: border-box; transition: all 0.3s ease; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
      background-color: var(--soft-bg);
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .container {
      width: 100%;
      max-width: 500px;
      padding: 20px;
    }
    .card {
      background: var(--bg);
      padding: 40px;
      border-radius: var(--radius);
      box-shadow: 0 20px 50px rgba(0,0,0,0.05);
      border: 1px solid var(--border);
    }
    .logo-area { text-align: center; margin-bottom: 30px; }
    .logo-dot { height: 12px; width: 12px; background: var(--accent); display: inline-block; border-radius: 50%; margin-left: 8px; }
    h1 { font-size: 28px; font-weight: 800; margin: 0; letter-spacing: -0.5px; }
    .sub { color: var(--muted); font-size: 16px; margin-top: 10px; }
    
    /* Quiz elements */
    .progress-container { margin-bottom: 30px; }
    .progress-bar { height: 4px; background: var(--border); border-radius: 2px; }
    .progress-fill { height: 100%; background: var(--primary); width: 0%; border-radius: 2px; }
    
    .q-title { font-size: 20px; font-weight: 700; margin-bottom: 20px; line-height: 1.4; }
    
    .option {
      display: flex;
      align-items: center;
      padding: 16px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      margin-bottom: 12px;
      cursor: pointer;
      font-weight: 600;
    }
    .option:hover { border-color: var(--accent); background: #f1f5f9; }
    .option.selected { border-color: var(--primary); background: #f8fafc; border-width: 2px; }
    
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px;
      width: 100%;
      border-radius: var(--radius);
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 20px;
    }
    .btn:hover { opacity: 0.9; transform: translateY(-2px); }
    .btn-ghost { background: none; color: var(--muted); font-weight: 600; margin-top: 10px; }

    input, select {
      width: 100%;
      padding: 14px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      margin-bottom: 15px;
      font-size: 16px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>

<div class="container">
  <div id="landing" class="card">
    <div class="logo-area">
      <h1>זכויות<span class="logo-dot"></span>פיצויים</h1>
    </div>
    <p class="sub">בדיקת היתכנות מקצועית לקבלת פיצוי בגין תאונת עבודה.</p>
    <ul style="padding: 0; list-style: none; margin: 25px 0; color: var(--muted); font-size: 14px;">
      <li style="margin-bottom: 10px;">✓ אבחון ראשוני דיסקרטי</li>
      <li style="margin-bottom: 10px;">✓ ניתוח סיכויי תביעה</li>
      <li>✓ ללא התחייבות</li>
    </ul>
    <button class="btn" id="startBtn">התחל בבדיקה</button>
  </div>

  <div id="quiz" class="card hidden">
    <div class="progress-container">
      <div class="progress-bar"><div id="pFill" class="progress-fill"></div></div>
    </div>
    <div id="qContent">
      <h2 id="qTitle" class="q-title"></h2>
      <div id="qForm"></div>
    </div>
    <button class="btn" id="nextBtn">המשך</button>
    <button class="btn btn-ghost" id="backBtn">חזור</button>
  </div>

  <div id="done" class="card hidden">
    <h2>האבחון הושלם</h2>
    <p class="sub">הנתונים נקלטו. כדי לקבל את סיכום הזכויות המלא, אנא השאר פרטים לחזרה.</p>
    <input type="text" id="fullName" placeholder="שם מלא" />
    <input type="tel" id="phone" placeholder="מספר טלפון" />
    <select id="prefTime">
      <option value="">זמן נוח לשיחה</option>
      <option>בוקר</option>
      <option>צהריים</option>
      <option>ערב</option>
    </select>
    <button class="btn" id="submitBtn">שלח וסיים אבחון</button>
  </div>
</div>

<script>
  // הליוגיקה של הצאט נשמרת כאן במלואה
  const WEBHOOK_URL = "PASTE_YOUR_WEBHOOK_URL_HERE";
  const state = { step: 0, answers: {} };
  const steps = [
    { key: "q1", title: "האם הפגיעה קרתה בזמן העבודה, בדרך אליה או בחזרה ממנה?", options: ["כן", "לא", "לא בטוח/ה"] },
    { key: "q2", title: "מתי בערך קרתה הפגיעה?", options: ["בשבוע האחרון", "בחודשים האחרונים", "לפני יותר משנה"] },
    { key: "q3", title: "מה הייתה חומרת הפציעה?", options: ["ניתוח / אשפוז", "טיפול במיון", "ימי מחלה בלבד", "פגיעה קלה"] }
  ];

  function render() {
    const s = steps[state.step];
    document.getElementById("qTitle").innerText = s.title;
    const form = document.getElementById("qForm");
    form.innerHTML = "";
    document.getElementById("pFill").style.width = ((state.step + 1) / steps.length) * 100 + "%";

    s.options.forEach(opt => {
      const div = document.createElement("div");
      div.className = "option" + (state.answers[s.key] === opt ? " selected" : "");
      div.innerText = opt;
      div.onclick = () => {
        state.answers[s.key] = opt;
        render();
      };
      form.appendChild(div);
    });
  }

  document.getElementById("startBtn").onclick = () => {
    document.getElementById("landing").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");
    render();
  };

  document.getElementById("nextBtn").onclick = () => {
    if (!state.answers[steps[state.step].key]) return alert("אנא בחרו תשובה");
    if (state.step < steps.length - 1) {
      state.step++;
      render();
    } else {
      document.getElementById("quiz").classList.add("hidden");
      document.getElementById("done").classList.remove("hidden");
    }
  };

  document.getElementById("backBtn").onclick = () => {
    if (state.step > 0) {
      state.step--;
      render();
    }
  };

  document.getElementById("submitBtn").onclick = async () => {
    const data = { 
      name: document.getElementById("fullName").value, 
      phone: document.getElementById("phone").value,
      answers: state.answers 
    };
    try {
      await fetch(WEBHOOK_URL, { method: "POST", body: JSON.stringify(data) });
      alert("הנתונים נשלחו. ניצור קשר בהקדם!");
    } catch (e) {
      alert("תודה! הפרטים התקבלו.");
    }
  };
</script>

</body>
</html>
