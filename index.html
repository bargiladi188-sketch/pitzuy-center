<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>×¡×“×¨ ×–×›×•×™×•×ª | ×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</title>
<link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{ --bg1:#0b1220; --paper:#f6f8ff; --card:#ffffff; --text:#0f172a; --muted:#475569; --primary:#2563eb; --primary2:#0ea5e9; }
*{box-sizing:border-box}
body{ margin:0; font-family:'Assistant',sans-serif; background: radial-gradient(900px 500px at 80% -10%, rgba(14,165,233,.25), transparent), linear-gradient(180deg, var(--bg1) 0%, var(--bg1) 32%, var(--paper) 32%); color:var(--text); }
.wrap{max-width:1100px;margin:0 auto;padding:20px 16px 80px}
.card{ background:#fff; border-radius:22px; padding:22px; box-shadow:0 12px 30px rgba(0,0,0,.12); }
h1{font-size:36px;margin:0 0 10px;font-weight:900}
.lead{color:var(--muted);font-size:17px;max-width:65ch}
.btn{ border:0; border-radius:18px; padding:14px 18px; font-weight:900; background:linear-gradient(135deg,var(--primary),var(--primary2)); color:#fff; cursor:pointer; width: 100%; max-width: 300px; font-family: inherit; }
.btn:disabled{ opacity: 0.5; cursor: not-allowed; }
.features{ display:grid; grid-template-columns:repeat(3,1fr); gap:14px; margin-top:24px; }
@media(max-width:900px){.features{grid-template-columns:1fr}}
.feat{ display:flex; flex-direction:column; justify-content:center; gap:8px; padding:18px; min-height:140px; border-radius:20px; background:#fff; border:1px solid rgba(148,163,184,.25); }
.feat .ico{ width:44px; height:44px; border-radius:14px; display:grid; place-items:center; background:rgba(37,99,235,.1); font-size:20px; }
.feat b{ font-size:16px; font-weight:900; }
.feat span{ font-size:14px; color:var(--muted); line-height:1.45; }
.hidden{display:none !important}
.option{ padding:14px; margin:10px 0; border-radius:18px; border:1px solid rgba(148,163,184,.3); cursor:pointer; font-weight:800; transition: 0.2s; }
.option.active{ border-color:var(--primary); background:rgba(37,99,235,.06); }
.bar{ height: 10px; background: #eee; border-radius: 99px; overflow: hidden; margin-bottom: 20px; }
.fill{ height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
input{ width:100%; padding:14px; border-radius:16px; border:1px solid rgba(148,163,184,.4); font-size:16px; margin-bottom: 10px; font-family: inherit; }
</style>
</head>
<body>
<div class="wrap">
  <div id="landing" class="card">
    <h1>× ×¤×’×¢×ª ×‘×¢×‘×•×“×”? ×‘×•××™ × ×¢×©×” ×¡×“×¨ ×¨×’×¢.</h1>
    <p class="lead">×‘×“×™×§×” ×§×¦×¨×” ×•×œ× ××©×¤×˜×™×ª ×©××¡×“×¨×ª ××ª ×”×ª××•× ×”, ×›×“×™ ×œ×”×‘×™×Ÿ ×× ×™×© ×”×™×ª×›× ×•×ª ×œ×¤×™×¦×•×™ ×•××” × ×›×•×Ÿ ×œ×¢×©×•×ª ×¢×›×©×™×•.</p>
    <div class="ctaRow"><button class="btn" id="startBtn">××ª×—×™×œ×™× ×‘×“×™×§×”</button></div>
    <div class="features">
      <div class="feat"><div class="ico">ğŸ§ </div><b>×‘×¨×•×¨ ×•×¤×©×•×˜</b><span>×‘×œ×™ ××•× ×—×™× ××©×¤×˜×™×™× ×•×‘×œ×™ ×‘×œ×‘×•×œ.</span></div>
      <div class="feat"><div class="ico">ğŸ‘‚</div><b>××•×–×Ÿ ×§×©×‘×ª</b><span>×”×‘×“×™×§×” × ×‘× ×ª×” ×›×“×™ ×œ×”×‘×™×Ÿ ××•×ª×š ×‘×××ª.</span></div>
      <div class="feat"><div class="ico">ğŸ›¡ï¸</div><b>×“×™×¡×§×¨×˜×™</b><span>×¨×§ ×× ×ª×¨×¦×™ â€“ × ×©××™×¨ ×¤×¨×˜×™× ×‘×¡×•×£.</span></div>
    </div>
  </div>

  <div id="quiz" class="card hidden">
    <div class="bar"><div id="progressFill" class="fill"></div></div>
    <h2 id="qTitle"></h2>
    <div id="qForm"></div>
    <div style="display:flex; gap:10px; margin-top:20px;">
      <button id="backBtn" style="background:none; border:1px solid #ddd; border-radius:18px; padding:10px; cursor:pointer; flex:1;">××—×•×¨×”</button>
      <button class="btn" id="nextBtn" style="flex:2;">×”××©×š</button>
    </div>
  </div>

  <div id="done" class="card hidden">
    <h2>×¡×™×™×× ×•! ×”×©××™×¨×™ ×¤×¨×˜×™× ×•× ×—×–×•×¨ ××œ×™×™×š âœ…</h2>
    <input type="text" id="fullName" placeholder="×©× ××œ×" />
    <input type="tel" id="phone" placeholder="××¡×¤×¨ ×˜×œ×¤×•×Ÿ" />
    <button class="btn" id="submitBtn">×¨×•×¦×” ×©×™×—×–×¨×• ××œ×™×™</button>
  </div>
</div>

<script>
const WEBHOOK_URL="https://hook.eu1.make.com/zodd6hyaiagfivgofyy1h6jjamyymm23";

const state = { step: 0, answers: {} };
const steps = [
  { key:"q1", title:"×”×× ×–×” ×§×¨×” ×‘×–××Ÿ ×”×¢×‘×•×“×”, ×‘×“×¨×š ××œ×™×” ××• ×‘×—×–×¨×”?", options:[{l:"×›×Ÿ", v:"yes"},{l:"×œ×", v:"no"},{l:"×× ×™ ×œ× ×‘×˜×•×—×”", v:"maybe"}] },
  { key:"q2", title:"××ª×™ ×–×” ×§×¨×”?", options:[{l:"×”×©×‘×•×¢", v:"7d"},{l:"×”×©× ×”", v:"months"},{l:"×œ×¤× ×™ ×©× ×”+", v:"old"}] },
  { key:"q3", title:"×—×•××¨×ª ×”×¤×¦×™×¢×”?", options:[{l:"××©×¤×•×– / × ×™×ª×•×—", v:"severe"},{l:"××™×•×Ÿ / ×‘×“×™×§×•×ª", v:"er"},{l:"×™××™ ××—×œ×”", v:"sick"}] },
  { key:"q4", title:"×™×© ×œ×š ×ª×™×¢×•×“ ×¨×¤×•××™?", options:[{l:"×›×Ÿ", v:"yes"},{l:"×—×œ×§×™", v:"partial"},{l:"××™×Ÿ ×¢×“×™×™×Ÿ", v:"none"}] },
  { key:"q5", title:"×¤× ×™×ª ×œ×‘×™×˜×•×— ×œ××•××™?", options:[{l:"×¢×“×™×™×Ÿ ×œ×", v:"no"},{l:"×›×Ÿ", v:"yes"}] }
];

function render() {
  const s = steps[state.step];
  document.getElementById("qTitle").innerText = s.title;
  document.getElementById("progressFill").style.width = ((state.step + 1) / steps.length) * 100 + "%";
  const form = document.getElementById("qForm");
  form.innerHTML = "";
  s.options.forEach(o => {
    const d = document.createElement("div");
    d.className = "option" + (state.answers[s.key] === o.v ? " active" : "");
    d.innerText = o.l;
    d.onclick = () => { state.answers[s.key] = o.v; render(); };
    form.appendChild(d);
  });
  document.getElementById("nextBtn").disabled = !state.answers[s.key];
  document.getElementById("backBtn").style.visibility = state.step === 0 ? "hidden" : "visible";
}

document.getElementById("startBtn").onclick = () => {
  document.getElementById("landing").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  render();
};

document.getElementById("backBtn").onclick = () => { if(state.step > 0) { state.step--; render(); } };
document.getElementById("nextBtn").onclick = () => {
  if(state.step < steps.length - 1) { state.step++; render(); }
  else { document.getElementById("quiz").classList.add("hidden"); document.getElementById("done").classList.remove("hidden"); }
};

document.getElementById("submitBtn").onclick = async () => {
  const name = document.getElementById("fullName").value;
  const phone = document.getElementById("phone").value;
  if(!name || phone.length < 9) return alert("× × ×œ××œ× ×¤×¨×˜×™× ×ª×§×™× ×™×");
  
  document.getElementById("submitBtn").innerText = "×©×•×œ×—...";
  document.getElementById("submitBtn").disabled = true;

  try {
    await fetch(WEBHOOK_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, phone, answers: state.answers, source: "seder_zchuyot" })
    });
    alert("× ×©×œ×— ×‘×”×¦×œ×—×”!");
    location.reload();
  } catch(e) {
    alert("×”×¤×¨×˜×™× × ×©×œ×—×•!");
    location.reload();
  }
};
</script>
</body>
</html>
