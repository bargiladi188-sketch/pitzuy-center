<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>×¡×“×¨ ×–×›×•×™×•×ª | ×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</title>
  <meta name="description" content="×‘×“×™×§×” ×§×¦×¨×” ×•×œ× ××—×™×™×‘×ª ×©×¢×•×©×” ×¡×“×¨ ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”. ×“×™×¡×§×¨×˜×™ ×•×× ×•×©×™. ×‘×¢×¨×š 2 ×“×§×•×ª." />
  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1220;
      --paper:#f6f8ff;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:rgba(148,163,184,.35);
      --primary:#2563eb;
      --primary2:#0ea5e9;
      --shadow: 0 18px 55px rgba(2,6,23,.22);
      --shadow2: 0 12px 30px rgba(2,6,23,.12);
      --r:22px;
      --ok:#22c55e;
      --warn:#f59e0b;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:'Assistant', system-ui, -apple-system, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 650px at 80% -10%, rgba(14,165,233,.26), transparent 55%),
        radial-gradient(900px 620px at 10% 0%, rgba(34,197,94,.14), transparent 55%),
        radial-gradient(900px 620px at 50% 115%, rgba(249,115,22,.10), transparent 55%),
        linear-gradient(180deg, var(--bg1) 0%, var(--bg1) 34%, var(--paper) 34%, var(--paper) 100%);
      line-height:1.65;
    }

    .wrap{ max-width:1100px; margin:0 auto; padding:20px 16px 90px; }

    .topbar{
      color:#fff; display:flex; align-items:center; justify-content:space-between;
      gap:12px; flex-wrap:wrap; margin-bottom:14px;
    }
    .brand{ display:flex; align-items:center; gap:10px; }
    .mark{
      width:42px; height:42px; border-radius:16px;
      background: linear-gradient(135deg, rgba(255,255,255,.95), rgba(255,255,255,.65));
      display:grid; place-items:center; color:#0b1220; font-weight:900;
      box-shadow: 0 20px 40px rgba(0,0,0,.18);
    }
    .brandTitle{ font-weight:900; letter-spacing:-.2px; }
    .chips{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      color:rgba(255,255,255,.92);
      font-size:12.5px; font-weight:800;
      backdrop-filter: blur(10px);
    }
    .dot{ width:8px; height:8px; border-radius:99px; background:#86efac; }

    .shell{
      margin-top:8px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.55);
      border-radius: 28px;
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .grid{ display:grid; grid-template-columns: 1.35fr .65fr; gap:14px; align-items:stretch; }
    @media (max-width: 980px){ .grid{ grid-template-columns:1fr; } }

    .card{
      background:var(--card);
      border:1px solid rgba(148,163,184,.28);
      border-radius: 24px;
      padding: 22px;
      box-shadow: var(--shadow2);
      height:100%;
      overflow: visible;
    }

    h1{
      margin:0 0 10px;
      font-size: 38px;
      line-height:1.1;
      letter-spacing:-.6px;
      font-weight:900;
    }
    .lead{
      margin:0 0 14px;
      color:var(--muted);
      font-size: 17px;
      max-width: 70ch;
    }

    .socialProof{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin: 10px 0 14px;
      color: rgba(15,23,42,.85);
      font-weight:900;
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 12px; border-radius:999px;
      background: rgba(34,197,94,.10);
      border:1px solid rgba(34,197,94,.25);
      font-size:13.5px;
    }
    .badge .miniDot{ width:8px; height:8px; border-radius:99px; background: var(--ok); }

    .ctaRow{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top: 8px; }
    .btn{
      border:0; cursor:pointer;
      border-radius: 18px;
      padding: 14px 18px;
      font-weight:900;
      font-size: 16.5px;
      color:#fff;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      box-shadow: 0 18px 30px rgba(37,99,235,.22);
      transition: transform .15s ease, filter .15s ease;
      font-family: inherit;
      width:auto;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .btn:disabled{ opacity:.65; cursor:not-allowed; transform:none; }
    .btnGhost{ background:#fff; color:var(--text); border:1px solid rgba(148,163,184,.35); box-shadow:none; }

    .features{
      display:grid;
      grid-template-columns: repeat(3, minmax(220px, 1fr));
      gap: 14px;
      margin-top: 18px;
      align-items: stretch;
    }
    @media (max-width: 980px){
      .features{ grid-template-columns: repeat(2, minmax(200px, 1fr)); }
    }
    @media (max-width: 560px){
      .features{ grid-template-columns: 1fr; }
    }

    .feat{
      border-radius: 20px;
      padding: 16px;
      border:1px solid rgba(148,163,184,.25);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      display:grid;
      grid-template-columns: 44px 1fr;
      gap: 12px;
      min-height: 118px;
      align-content: center;
    }
    .ico{
      width: 44px; height: 44px;
      border-radius: 16px;
      background: rgba(37,99,235,.09);
      display:grid; place-items:center;
      color: #1d4ed8;
      font-weight: 900;
      font-size: 20px;
    }
    .feat b{
      display:block; margin:0 0 6px;
      font-size: 16px; line-height:1.2; font-weight:900;
    }
    .feat span{
      display:block;
      font-size: 13.5px;
      line-height: 1.45;
      color: var(--muted);
      max-width: 44ch;
    }

    .testimonials{
      margin-top: 14px;
      display:grid;
      gap:10px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      align-items:stretch;
    }
    @media (max-width: 980px){
      .testimonials{ grid-template-columns: 1fr; }
    }
    .testimonial{
      border:1px solid rgba(148,163,184,.25);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      border-radius: 20px;
      padding: 14px 14px 12px;
      color: rgba(15,23,42,.88);
      font-weight:800;
      font-size: 13.5px;
      line-height:1.5;
      position:relative;
      min-height: 92px;
    }
    .testimonial:before{
      content:"â€œ";
      position:absolute;
      top:6px; inset-inline-start: 10px;
      font-size: 34px;
      color: rgba(37,99,235,.18);
      font-weight:900;
      line-height:1;
    }
    .testimonial span{
      display:block;
      margin-top: 8px;
      color: var(--muted);
      font-weight:900;
      font-size: 12.5px;
    }

    details{
      border:1px solid rgba(148,163,184,.28);
      border-radius: 18px;
      background:#fff;
      padding: 12px 14px;
      margin: 10px 0;
    }
    summary{ cursor:pointer; font-weight:900; list-style:none; }
    details p{ color:var(--muted); margin:10px 0 0; }

    .hidden{ display:none !important; }

    .quizHead{ display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap; }
    .progressText{ font-size: 13px; color:var(--muted); font-weight:800; }
    .bar{ height: 10px; background: rgba(148,163,184,.25); border-radius: 999px; overflow:hidden; margin: 10px 0 16px; }
    .fill{ height:100%; width:0%; background: linear-gradient(90deg, var(--primary), var(--primary2), #22c55e); transition: width .25s ease; }
    .qTitle{ margin: 0 0 8px; font-size: 22px; font-weight: 900; letter-spacing:-.2px; }
    .qHint{ margin: 0 0 10px; color: var(--muted); font-size: 14px; }
    .micro{
      margin: 10px 0 0;
      padding: 12px 14px;
      border-radius: 16px;
      border:1px solid rgba(148,163,184,.25);
      background: rgba(14,165,233,.06);
      color: rgba(15,23,42,.82);
      font-weight:800;
      font-size: 13.5px;
      line-height:1.5;
    }

    .option{
      display:flex; gap:12px; align-items:flex-start;
      padding: 18px;
      margin: 14px 0;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.28);
      background: #fff;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .option:hover{ transform: translateY(-1px); border-color: rgba(37,99,235,.35); background: #f8fbff; }
    .option:active{ transform: scale(.99); background: rgba(37,99,235,.07); }
    .option.active{ border-color: rgba(37,99,235,.9); background: rgba(37,99,235,.06); }

    .bullet{
      width: 24px; height: 24px;
      border-radius: 10px;
      border: 2px solid rgba(148,163,184,.5);
      margin-top: 2px;
      flex: 0 0 auto;
      position: relative;
    }
    .option.active .bullet{ border-color: rgba(37,99,235,.9); background: rgba(37,99,235,.12); }
    .option.active .bullet:after{
      content:"";
      position:absolute; inset:5px;
      border-radius: 6px;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
    }

    .navRow{ display:flex; gap:10px; margin-top:16px; }
    .navRow .btn{ flex: 2; }
    .navRow .btnGhost{ flex: 1; }

    input[type="text"], input[type="tel"]{
      width:100%;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.35);
      background:#fff;
      font-size: 16px;
      outline:none;
      font-family: inherit;
    }
    .formGrid{ display:grid; gap:10px; margin-top: 12px; }

    .summaryBox{
      border-radius: 18px;
      padding: 14px;
      border:1px solid rgba(148,163,184,.25);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      color: var(--muted);
      font-size: 14px;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(148,163,184,.25);
      background:#fff;
      margin: 6px 6px 0 0;
      color: var(--text);
      font-weight:800;
      font-size: 12.5px;
    }

    .legal{ margin-top: 14px; color: rgba(15,23,42,.65); font-size: 12.5px; line-height:1.6; }
    footer{ margin-top: 18px; color: rgba(255,255,255,.78); font-size: 12.5px; text-align: center; }

    /* --- FIX: ×”×›×¨×˜×™×¡ ×”×¦×“×“×™ ("××™×š ×–×” ×¢×•×‘×“") ×œ× ×™×—×ª×•×š ×˜×§×¡×˜ --- */
    .stepsList{ display:grid; gap:10px; width: 100%; }
    .stepItem{
      border:1px solid rgba(148,163,184,.25);
      border-radius:18px;
      padding:14px;
      background:#fff;
      display:flex;
      gap:12px;
      align-items:flex-start;
      width: 100%;
      height: auto !important;
      min-height: unset !important;
      overflow: visible !important;
    }
    .stepNum{
      width:30px; height:30px;
      border-radius:12px;
      display:grid; place-items:center;
      background:rgba(14,165,233,.10);
      color:#0369a1;
      font-weight:900;
      flex: 0 0 auto;
    }
    .stepText{ flex: 1 1 auto; min-width: 0; }
    .stepText b{ font-weight:900; display:block; }
    .stepText div{ 
      color:var(--muted); 
      white-space: normal;
      overflow-wrap: anywhere;
      word-break: break-word;
      line-height: 1.45;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="mark">âœ“</div>
        <div>
          <div class="brandTitle">×¡×“×¨ ×–×›×•×™×•×ª</div>
          <div style="font-size:12.5px; color:rgba(255,255,255,.78); font-weight:700">×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</div>
        </div>
      </div>
      <div class="chips">
        <span class="chip"><span class="dot"></span> ×œ×œ× ×”×ª×—×™×™×‘×•×ª</span>
        <span class="chip">ğŸ”’ ×“×™×¡×§×¨×˜×™</span>
        <span class="chip">â± ×‘×¢×¨×š 2 ×“×§×•×ª</span>
      </div>
    </div>

    <div class="shell">
      <div id="landing" class="grid">
        <div class="card">
          <h1>× ×¤×’×¢×ª ×‘×¢×‘×•×“×”? ×‘×•× × ×¢×©×” ×¡×“×¨ ×¨×’×¢.</h1>

          <p class="lead">
            ×‘×“×™×§×” ×—×›××” ×œ××™×ª×•×¨ ×–×›×•×™×•×ª ×¨×¤×•××™×•×ª ×•<strong>×¤×•×˜× ×¦×™××œ ×œ×¤×™×¦×•×™ ×›×¡×¤×™</strong>.
            ×‘×œ×™ ×‘×™×¨×•×§×¨×˜×™×”, ×‘×œ×™ ××™×œ×™× ××¡×•×‘×›×•×ª, ×•×‘×œ×™ ×œ×¢×¨×‘ ××ª ×”××¢×¡×™×§ ×‘×©×œ×‘ ×–×”.
          </p>

          <div class="socialProof" aria-label="×”×•×›×—×” ×—×‘×¨×ª×™×ª">
            <span class="badge"><span class="miniDot"></span> ×××•×ª ×× ×©×™× ×›×‘×¨ ×‘×“×§×• ×–×›××•×ª ×œ××—×¨×•× ×”</span>
            <span style="color:var(--muted); font-weight:800; font-size:13px;">*×”××¡×¤×¨×™× ×‘××ª×¨ ××•×¦×’×™× ×œ×¦×•×¨×š ×—×™×–×•×§ ×‘×™×˜×—×•×Ÿ â€” ×‘×œ×™ ×”×‘×˜×—×•×ª ×œ×ª×•×¦××”.</span>
          </div>

          <div class="ctaRow">
            <button class="btn" id="startBtn" type="button">×”×ª×—×œ ×‘×“×™×§×ª ×–×›××•×ª (2 ×“×§×•×ª)</button>
            <button class="btn btnGhost" id="scrollFaqBtn" type="button">×©××œ×•×ª × ×¤×•×¦×•×ª</button>
          </div>

          <div class="features">
            <div class="feat">
              <div class="ico">ğŸ§ </div>
              <div><b>×¤×©×•×˜ ×•×‘×¨×•×¨</b><span>×›××” ×©××œ×•×ª ×§×¦×¨×•×ª â€” ××§×‘×œ ×ª××•× ×” ××¡×•×“×¨×ª ×‘×œ×™ ×¢×•××¡.</span></div>
            </div>
            <div class="feat">
              <div class="ico">ğŸ›¡ï¸</div>
              <div><b>×‘×˜×•×— ××•×œ ×”××¢×¡×™×§</b><span>100% ×“×™×¡×§×¨×˜×™. ×”××¢×¡×™×§ ×œ× ××§×‘×œ ×”×•×“×¢×” ×•×œ× ××¢×•×¨×‘ ×‘×©×œ×‘ ×–×”.</span></div>
            </div>
            <div class="feat">
              <div class="ico">ğŸ“±</div>
              <div><b>××•×ª×× ×œ× ×™×™×“</b><span>×ª×”×œ×™×š ×¤×©×•×˜ ×•×‘×¨×•×¨ ××›×œ ××›×©×™×¨ â€” ×‘×œ×™ ×œ×”×¡×ª×‘×š ×•×‘×œ×™ ×œ×‘×–×‘×– ×–××Ÿ.</span></div>
            </div>
          </div>

          <div class="testimonials" aria-label="×× ×©×™× ×©×‘×“×§×•">
            <div class="testimonial">
              ×œ× ×™×“×¢×ª×™ ×‘×›×œ×œ ×× ×™×© ××” ×œ×‘×“×•×§. ×”×©××œ×•×Ÿ ×¢×©×” ×œ×™ ×¡×“×¨ ×ª×•×š ×©×ª×™ ×“×§×•×ª.
              <span>â€” ××‘×™, ×‘×Ÿ 41</span>
            </div>
            <div class="testimonial">
              ××”×‘×ª×™ ×©×–×” ×œ× ××œ×—×™×¥ ×•×œ× â€œ××©×¤×˜×™â€. ×¨×§ ×œ×”×‘×™×Ÿ ××” ×”×¦×¢×“ ×”× ×›×•×Ÿ ×¢×›×©×™×•.
              <span>â€” ×“× ×™××œ, ×‘×Ÿ 29</span>
            </div>
            <div class="testimonial">
              ×—×©×‘×ª×™ ×©×–×” â€œ×›×œ×•×â€. ×”×‘×“×™×§×” × ×ª× ×” ×œ×™ ×›×™×•×•×Ÿ ×‘×¨×•×¨ ×œ××” ×›×“××™ ×œ×ª×¢×“.
              <span>â€” ×©×™×¨×”, ×‘×ª 36</span>
            </div>
          </div>

          <div id="faq" style="margin-top:18px;">
            <div style="font-weight:900; margin-bottom:8px;">×©××œ×•×ª × ×¤×•×¦×•×ª</div>
            <details><summary>×–×” ××—×™×™×‘ ××•×ª×™ ×œ×“×‘×¨ ×¢× ×¢×•×¨×š ×“×™×Ÿ?</summary><p>×œ×. ×–×• ×‘×“×™×§×” ×¨××©×•× ×™×ª ×‘×œ×‘×“. ×‘×¡×•×£ ××ª×” ××—×œ×™×˜ ×× ×œ×”×©××™×¨ ×¤×¨×˜×™× ×œ×§×‘×œ×ª ×ª×•×¦××•×ª ×•×”×›×•×•× ×”.</p></details>
            <details><summary>×œ××” ××ª× ×©×•××œ×™× ×¢×œ ×ª×™×¢×•×“?</summary><p>×ª×™×¢×•×“ ×¢×•×–×¨ ×œ×”×‘×™×Ÿ ××”×¨ ×× ×™×© ×‘×¡×™×¡ ×•××” ×”×¦×¢×“ ×”× ×›×•×Ÿ, ×‘×œ×™ ×œ×”×¡×ª×‘×š ×‘×˜×¤×¡×™×.</p></details>
            <details><summary>×”×× ×–×” ×‘×ª×©×œ×•×?</summary><p>×”×‘×“×™×§×” ×¢×¦××” ×œ×œ× ×¢×œ×•×ª. ××™×Ÿ ×”×ª×—×™×™×‘×•×ª ×œ×”××©×š.</p></details>
          </div>

          <div class="legal" style="margin-top: 14px;">
            *×”××ª×¨ ××™× ×• ××ª×¨ ×¨×©××™ ×©×œ ×”×‘×™×˜×•×— ×”×œ××•××™ ×•××™× ×• ××¡×¤×§ ×™×™×¢×•×¥ ××©×¤×˜×™. ××˜×¨×ª×• ××™×“×¢ ×¨××©×•× ×™ ×‘×œ×‘×“.
          </div>
        </div>

        <div class="card">
          <div style="font-weight:900; font-size:18px; margin-bottom:10px;">××™×š ×–×” ×¢×•×‘×“?</div>

          <div class="stepsList">
            <div class="stepItem">
              <div class="stepNum">1</div>
              <div class="stepText">
                <b>×¢×•× ×” ×¢×œ 5 ×©××œ×•×ª</b>
                <div>××•×¢×“, ×¡×•×’ ×¤×’×™×¢×”, ×—×•××¨×”, ×ª×™×¢×•×“ ×•×¡×˜×˜×•×¡ ×™×™×¦×•×’.</div>
              </div>
            </div>

            <div class="stepItem">
              <div class="stepNum">2</div>
              <div class="stepText">
                <b>××§×‘×œ ×¡×™×›×•× ×§×¦×¨</b>
                <div>××” ×›×“××™ ×œ×¢×©×•×ª ×¢×›×©×™×• ×›×“×™ ×œ× ×œ×¤×¡×¤×¡ ×–×›×•×™×•×ª.</div>
              </div>
            </div>

            <div class="stepItem">
              <div class="stepNum">3</div>
              <div class="stepText">
                <b>×¨×§ ×× ×ª×¨×¦×” â€” ××©××™×¨ ×¤×¨×˜×™×</b>
                <div>×›×“×™ ×œ×§×‘×œ ××ª ×ª×•×¦××•×ª ×”×‘×“×™×§×” ×•×”×›×•×•× ×” ×œ×¦×¢×“ ×”×‘×.</div>
              </div>
            </div>
          </div>

          <div style="margin-top:14px;">
            <button class="btn" type="button" id="startBtn2" style="width:100%;">×™××œ×œ×”, ××ª×—×™×œ×™×</button>
          </div>
        </div>
      </div>

      <div id="quiz" class="card hidden">
        <div class="quizHead">
          <div class="progressText" id="progressTxt">×©××œ×” 1 ××ª×•×š 5</div>
          <div class="progressText">â± ×‘×¢×¨×š 2 ×“×§×•×ª</div>
        </div>
        <div class="bar"><div id="progressFill" class="fill"></div></div>

        <h2 id="qTitle" class="qTitle"></h2>
        <p id="qHint" class="qHint"></p>
        <div id="qForm"></div>

        <div id="microCopy" class="micro hidden"></div>

        <div class="navRow">
          <button class="btn btnGhost" id="backBtn" type="button">××—×•×¨×”</button>
          <button class="btn" id="nextBtn" type="button">×”××©×š</button>
        </div>
      </div>

      <div id="done" class="card hidden">
        <h2 style="margin:0 0 8px; font-weight:900; letter-spacing:-.2px;">×¡×™×›×•× ×§×¦×¨ âœ…</h2>
        <div id="summaryBox" class="summaryBox"></div>

        <div class="formGrid">
          <input type="text" id="fullName" placeholder="×©× ××œ×" autocomplete="name" />
          <input type="tel" id="phone" placeholder="××¡×¤×¨ ×˜×œ×¤×•×Ÿ" autocomplete="tel" inputmode="tel" />
          <button class="btn" id="submitBtn" type="button">×§×‘×œ ××ª ×ª×•×¦××•×ª ×”×‘×“×™×§×”</button>
          <div class="legal">
            ğŸ”’ <b>×“×™×¡×§×¨×˜×™:</b> ×”××¡×¤×¨ ××©××© ×¨×§ ×œ×©×œ×™×—×ª ×ª×•×¦××•×ª ×”×‘×“×™×§×” ×•×”×›×•×•× ×” ×œ×¦×¢×“ ×”×‘×. ×”××¢×¡×™×§ ×œ× ××¢×•×¨×‘ ×•×œ× ××§×‘×œ ×”×•×“×¢×”.
          </div>
          <div class="legal">
            ×‘×œ×—×™×¦×” ××ª×” ×××©×¨ ×™×¦×™×¨×ª ×§×©×¨ ×œ×’×‘×™ ×”×‘×“×™×§×” ×©×‘×™×¦×¢×ª.
          </div>
        </div>
      </div>
    </div>

    <footer style="margin-top: 30px;">×¡×“×¨ ×–×›×•×™×•×ª Â· ×‘×“×™×§×” ×§×¦×¨×” ××—×¨×™ ×¤×’×™×¢×” ×‘×¢×‘×•×“×”</footer>
  </div>

<script>
  const WEBHOOK_URL = "https://hook.eu1.make.com/zodd6hyaiagfivgofyy1h6jjamyymm23";

  document.addEventListener("DOMContentLoaded", () => {
    const els = {
      landing: document.getElementById("landing"),
      quiz: document.getElementById("quiz"),
      done: document.getElementById("done"),
      startBtn: document.getElementById("startBtn"),
      startBtn2: document.getElementById("startBtn2"),
      scrollFaqBtn: document.getElementById("scrollFaqBtn"),
      progressFill: document.getElementById("progressFill"),
      progressTxt: document.getElementById("progressTxt"),
      qTitle: document.getElementById("qTitle"),
      qHint: document.getElementById("qHint"),
      qForm: document.getElementById("qForm"),
      microCopy: document.getElementById("microCopy"),
      backBtn: document.getElementById("backBtn"),
      nextBtn: document.getElementById("nextBtn"),
      summaryBox: document.getElementById("summaryBox"),
      fullName: document.getElementById("fullName"),
      phone: document.getElementById("phone"),
      submitBtn: document.getElementById("submitBtn"),
    };

    const state = { step: 0, answers: { q1:null, q2:null, q3:null, q4:null, q5:null } };

    const steps = [
      {
        key:"q1",
        title:"××ª×™ ×‘×¢×¨×š ×§×¨×ª×” ×”×¤×’×™×¢×”?",
        hint:"×›×›×œ ×©×–×” ×˜×¨×™ ×™×•×ª×¨ â€” ×§×œ ×™×•×ª×¨ ×œ×ª×¢×“ ×•×œ× ×œ××‘×“ ×–×›×•×™×•×ª.",
        options:[
          {l:"×‘-30 ×”×™××™× ×”××—×¨×•× ×™×",v:"30d"},
          {l:"×‘×—×•×“×©×™× ×”××—×¨×•× ×™×",v:"months"},
          {l:"×œ×¤× ×™ ×©× ×” ××• ×™×•×ª×¨",v:"1y"},
          {l:"×œ×¤× ×™ ×™×•×ª×¨ ×-3 ×©× ×™×",v:"3y"}
        ]
      },
      {
        key:"q2",
        title:"××” ×¡×•×’ ×”×¤×’×™×¢×”?",
        hint:"×‘×—×¨ ××ª ×”××¤×©×¨×•×ª ×©×”×›×™ ××ª××™××”.",
        options:[
          {l:"×ª××•× ×ª ×“×¨×›×™× ×‘×“×¨×š/××”×¢×‘×•×“×”",v:"car_work"},
          {l:"× ×¤×™×œ×”/×”×—×œ×§×”/×—×‘×œ×” ×‘××§×•× ×”×¢×‘×•×“×”",v:"fall"},
          {l:"×”×¨××ª ××©× / ××××¥ ×—×¨×™×’",v:"lift"},
          {l:"×›××‘ ××¦×˜×‘×¨ ×œ××•×¨×š ×–××Ÿ (××™×§×¨×•×˜×¨××•××”)",v:"chronic"}
        ]
      },
      {
        key:"q3",
        title:"××™×š ×”×™×™×ª ××ª××¨ ××ª ×—×•××¨×ª ×”×¤×’×™×¢×”?",
        hint:"×–×” ×œ× ×§×•×‘×¢ ×ª×•×¦××” â€” ×¨×§ ×¢×•×–×¨ ×œ×”×‘×™×Ÿ ×›×™×•×•×Ÿ.",
        options:[
          {l:"××©×¤×•×– / × ×™×ª×•×— / ×©×™×§×•× ××¨×•×š",v:"severe"},
          {l:"××™×•×Ÿ / ×‘×“×™×§×•×ª ×¨×¤×•××™×•×ª",v:"er"},
          {l:"×™××™ ××—×œ×” ×‘×œ×‘×“",v:"sick"},
          {l:"×¤×’×™×¢×” ×§×œ×” ×•×—×–×¨×” ××”×™×¨×” ×œ×©×’×¨×”",v:"minor"}
        ]
      },
      {
        key:"q4",
        title:"×™×© ×ª×™×¢×•×“ ××”×™××™× ×”×¨××©×•× ×™×?",
        hint:"×ª×™×¢×•×“ ×¨×¤×•××™ ×”×•× ×›×œ×™ ×—×©×•×‘ ×‘×‘×“×™×§×”.",
        options:[
          {l:"×›×Ÿ, ×™×© ×ª×™×¢×•×“ ×¨×¤×•××™",v:"med_yes"},
          {l:"×™×©, ××‘×œ ×œ× ×–××™×Ÿ ×œ×™ ×›×¨×’×¢",v:"med_later"},
          {l:"×“×™×•×•×—×ª×™ ×œ××¢×¡×™×§ / ×™×© ×ª×™×¢×•×“ ×—×œ×§×™",v:"partial"},
          {l:"××™×Ÿ ×¢×“×™×™×Ÿ",v:"none"}
        ]
      },
      {
        key:"q5",
        title:"×”×× ××ª×” ×›×‘×¨ ××™×•×¦×’ ×¢\"×™ ×¢×•×¨×š ×“×™×Ÿ ×‘× ×•×©×?",
        hint:"×—×©×•×‘ ×œ×“×¢×ª ×›×“×™ ×œ× ×œ×™×™×¦×¨ ×›×¤×™×œ×•×ª.",
        options:[
          {l:"×œ×",v:"no"},
          {l:"×›×Ÿ",v:"yes"},
          {l:"×œ× ×‘×˜×•×—",v:"unsure"}
        ]
      }
    ];

    function goQuiz(){
      els.landing.classList.add("hidden");
      els.quiz.classList.remove("hidden");
      els.done.classList.add("hidden");
      render();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function setMicroCopy(html){
      if(!html){
        els.microCopy.classList.add("hidden");
        return;
      }
      els.microCopy.classList.remove("hidden");
      els.microCopy.innerHTML = html;
    }

    function render(){
      const s = steps[state.step];
      els.qTitle.textContent = s.title;
      els.qHint.textContent = s.hint || "";
      els.progressTxt.textContent = `×©××œ×” ${state.step+1} ××ª×•×š ${steps.length}`;
      els.progressFill.style.width = ((state.step+1)/steps.length)*100 + "%";

      setMicroCopy(null);
      if(s.key === "q3" && state.answers.q3 === "severe"){
        setMicroCopy(`××¦×˜×¢×¨×™× ×œ×©××•×¢. ×‘××§×¨×™× ×©×›×•×œ×œ×™× ××©×¤×•×– ××• × ×™×ª×•×—, ×œ×¢×™×ª×™× ×™×© ×”×™×ª×›× ×•×ª ×œ××¢× ×§/×§×¦×‘×” ×¢×œ ×‘×¡×™×¡ ××—×•×–×™ × ×›×•×ª.`);
      }
      if(s.key === "q4"){
        setMicroCopy(`××™×Ÿ ×œ×š ××¡××›×™× ×–××™× ×™× ×›×¨×’×¢? ×–×” ×‘×¡×“×¨. ××¤×©×¨ ×œ×‘×—×•×¨ "×œ× ×–××™×Ÿ ×œ×™ ×›×¨×’×¢" ×•×œ×”××©×™×š.`);
      }

      els.qForm.innerHTML = "";
      s.options.forEach(opt=>{
        const div = document.createElement("div");
        div.className = "option" + (state.answers[s.key] === opt.v ? " active" : "");
        div.innerHTML = `<div class="bullet"></div><div style="font-weight:900;">${opt.l}</div>`;
        div.onclick = ()=>{ state.answers[s.key]=opt.v; render(); };
        els.qForm.appendChild(div);
      });

      els.nextBtn.disabled = !state.answers[s.key];
      els.backBtn.disabled = state.step === 0;
    }

    function scoreAndTier(a){
      let score = 0;
      if(a.q1==="30d") score += 35;
      if(a.q2==="car_work") score += 35;
      if(a.q3==="severe") score += 30;
      if(a.q4==="med_yes") score += 18;
      const represented = (a.q5==="yes");
      let tier = score >= 85 ? "Platinum" : (score >= 60 ? "Gold" : "Silver");
      if(represented) tier = "NotForSale";
      return { score, tier, represented };
    }

    function buildSummary(a){
      const res = scoreAndTier(a);
      const chips=[];
      if(a.q2==="car_work") chips.push("×–×›××•×ª ×›×¤×•×œ×” ×¤×•×˜× ×¦×™××œ×™×ª");
      if(a.q1==="30d") chips.push("××§×¨×” ×˜×¨×™");
      if(a.q3==="severe") chips.push("×¤×’×™×¢×” ××©××¢×•×ª×™×ª");
      
      const pills = chips.map(t=>`<span class="pill">âœ“ ${t}</span>`).join(" ");
      return `<div style="font-weight:900;">×ª×•×¦××•×ª ×¨××©×•× ×™×•×ª:</div><div>${pills}</div>`;
    }

    els.startBtn.onclick = goQuiz;
    els.startBtn2.onclick = goQuiz;
    els.backBtn.onclick = ()=>{ if(state.step>0){ state.step--; render(); } };
    els.nextBtn.onclick = ()=>{
      if(state.step < steps.length-1){ state.step++; render(); }
      else {
        els.quiz.classList.add("hidden");
        els.done.classList.remove("hidden");
        els.summaryBox.innerHTML = buildSummary(state.answers);
      }
    };

    els.submitBtn.onclick = async ()=>{
      const name = els.fullName.value.trim();
      const phone = els.phone.value.trim();
      if(!name || phone.length < 9) return alert("× × ×œ××œ× ×¤×¨×˜×™× ×ª×§×™× ×™×");
      
      els.submitBtn.disabled = true;
      els.submitBtn.textContent = "×©×•×œ×—...";
      
      const s = scoreAndTier(state.answers);
      const ok = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, phone, answers: state.answers, score: s.score, tier: s.tier })
      });

      if(ok){
        alert("× ×©×œ×— ×‘×”×¦×œ×—×” âœ…");
        location.reload();
      }
    };
  });
</script>
</body>
</html>
