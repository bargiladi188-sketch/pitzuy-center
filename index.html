<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>זכויות ופיצויים | בדיקה רשמית</title>
  <style>
    :root {
      --primary: #000000;
      --secondary: #666666;
      --accent: #0055ff;
      --bg: #ffffff;
      --light: #f5f5f7;
    }
    * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background-color: var(--bg);
      color: var(--primary);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      width: 100%;
      max-width: 440px;
      padding: 80px 24px;
    }
    h1 { font-size: 42px; font-weight: 800; line-height: 1.1; letter-spacing: -2px; margin-bottom: 20px; }
    .sub { font-size: 19px; color: var(--secondary); line-height: 1.5; margin-bottom: 40px; }
    
    .option {
      background: var(--light);
      padding: 24px;
      border-radius: 20px;
      margin-bottom: 12px;
      cursor: pointer;
      font-weight: 600;
      font-size: 18px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid transparent;
    }
    .option:hover { transform: scale(0.98); background: #ebebef; }
    .option.active { border-color: var(--primary); background: #fff; }

    .btn {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 22px;
      width: 100%;
      border-radius: 20px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 20px;
    }
    .progress { display: flex; gap: 6px; margin-bottom: 30px; }
    .dot { height: 4px; flex: 1; background: #e5e5e7; border-radius: 2px; }
    .dot.active { background: var(--primary); }
    
    input, select {
      width: 100%; padding: 22px; border: none; background: var(--light); border-radius: 20px; margin-bottom: 12px; font-size: 17px; outline: none;
    }
    .hidden { display: none; }
    .animate { animation: slideUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>

<div class="container">
  <div id="landing" class="animate">
    <h1>כמה מגיע לך?<br>בואו נבדוק.</h1>
    <p class="sub">אבחון זכויות מהיר ודיסקרטי. דקה אחת ונדע בדיוק איפה התיק שלך עומד.</p>
    <button class="btn" onclick="start()">התחל בבדיקה</button>
  </div>

  <div id="quiz" class="hidden animate">
    <div class="progress" id="dots"></div>
    <h2 id="qTitle" style="font-size: 26px; margin-bottom: 30px; letter-spacing: -1px;"></h2>
    <div id="qForm"></div>
    <button class="btn" onclick="next()" id="nextBtn">המשך</button>
  </div>

  <div id="done" class="hidden animate">
    <h1>סיימנו.</h1>
    <p class="sub">הנתונים שלך נותחו. כדי לקבל את סיכום הזכויות המלא ממומחה, השאירו פרטים:</p>
    <input type="text" id="fullName" placeholder="שם מלא" />
    <input type="tel" id="phone" placeholder="מספר טלפון" />
    <select id="prefTime">
      <option value="">מתי הכי נוח לדבר?</option>
      <option>בוקר</option><option>צהריים</option><option>ערב</option>
    </select>
    <button class="btn" onclick="submit()">קבלת סיכום הזכויות</button>
  </div>
</div>

<script>
  const WEBHOOK_URL = "PASTE_YOUR_WEBHOOK_URL_HERE";
  const state = { step: 0, answers: { q4_docs: [] } };
  const steps = [
    { key: "q1", title: "זה קרה בזמן העבודה, בדרך אליה או בחזרה?", options: ["כן", "לא", "לא בטוח/ה"], type: "single" },
    { key: "q2", title: "מתי זה קרה?", options: ["השבוע", "בחודשים האחרונים", "לפני שנה ומעלה"], type: "single" },
    { key: "q3", title: "חומרת הפציעה?", options: ["ניתוח / אשפוז", "טיפול במיון / בדיקות", "ימי מחלה", "פגיעה קלה"], type: "single" },
    { key: "q4", title: "יש תיעוד כלשהו?", options: ["יש הכל", "דיווחתי למעסיק", "יש עדים", "אין כרגע"], type: "multi" },
    { key: "q5", title: "פנית לביטוח לאומי?", options: ["עדיין לא", "פניתי ולא בטוח", "הגשתי תביעה", "תהליך מתקדם"], type: "single" }
  ];

  function start() {
    document.getElementById("landing").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");
    render();
  }

  function render() {
    const s = steps[state.step];
    document.getElementById("qTitle").innerText = s.title;
    const form = document.getElementById("qForm");
    form.innerHTML = "";
    document.getElementById("dots").innerHTML = steps.map((_, i) => `<div class="dot ${i <= state.step ? 'active' : ''}"></div>`).join('');

    s.options.forEach(opt => {
      const div = document.createElement("div");
      div.className = "option" + (s.type === "single" ? (state.answers[s.key] === opt ? " active" : "") : (state.answers[s.key].includes(opt) ? " active" : ""));
      div.innerText = opt;
      div.onclick = () => {
        if (s.type === "single") { state.answers[s.key] = opt; setTimeout(next, 400); }
        else {
          const idx = state.answers[s.key].indexOf(opt);
          if (idx > -1) state.answers[s.key].splice(idx, 1);
          else state.answers[s.key].push(opt);
        }
        render();
      };
      form.appendChild(div);
    });
  }

  function next() {
    if (state.step < steps.length - 1) { state.step++; render(); }
    else { document.getElementById("quiz").classList.add("hidden"); document.getElementById("done").classList.remove("hidden"); }
  }

  async function submit() {
    const data = { name: document.getElementById("fullName").value, phone: document.getElementById("phone").value, answers: state.answers };
    try {
      await fetch(WEBHOOK_URL, { method: "POST", body: JSON.stringify(data) });
      document.getElementById("done").innerHTML = "<h1>תודה.</h1><p class='sub'>הפרטים התקבלו. ניצור קשר בקרוב.</p>";
    } catch (e) { alert("נשלח בהצלחה."); }
  }
</script>
</body>
</html>
